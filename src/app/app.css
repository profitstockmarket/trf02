:root {
	--bg: #fff;
	--fg: #111;
	--muted: #6b7280;
	--accent: #0ea5e9;
	--border: #e5e7eb;

	/* Global Fusion palette and controls (pastel tuned) */
	--fusion-link-water: #B0E0E6;     /* Powder Blue */
	--fusion-light-wisteria: #F8D7E3; /* Blush */
	--fusion-viking: #CDEFD6;        /* Mint */
	--fusion-white: #FFFFFF;       /* White */
	--fusion-black: #000000;       /* Black */
	--fusion-gradient-angle: 135deg; /* Adjust gradient direction globally */
}

.theme-dark {
	--bg: #0b0c0f;
	--fg: #e5e7eb;
	--muted: #9aa3b2;
	--accent: #38bdf8;
	--border: #1f2937;
}

html, body { height: 100%; }
body {
	background: var(--bg);
	color: var(--fg);
	font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	transition: background-color .25s ease, color .25s ease;
}

/* Accessible skip link */
.skip-link {
	position: absolute;
	left: -10000px;
	top: auto;
	width: 1px;
	height: 1px;
	overflow: hidden;
}
.skip-link:focus {
	left: 16px;
	top: 10px;
	width: auto;
	height: auto;
	padding: 6px 10px;
	background: var(--fg);
	color: var(--bg);
	border-radius: 6px;
	z-index: 1000;
}

.navbar .nav-link {
	position: relative;
	padding: .25rem 0;
}
.navbar .nav-link.active,
.navbar .nav-link:hover {
	color: var(--fg);
}
.navbar .nav-link::after {
	content: '';
	position: absolute;
	left: 0; right: 0; bottom: -4px;
	height: 1px; background: var(--fg);
	transform: scaleX(0);
	transition: transform .2s ease;
	transform-origin: left;
}
.navbar .nav-link:hover::after, .navbar .nav-link.active::after { transform: scaleX(1); }

/* Container tweaks for a calmer layout */
main.container { max-width: 1080px; }

/* Utility */
.muted { color: var(--muted); }
.divider { height: 1px; background: var(--border); }

/* Hero animation */
.reveal { opacity: 0; transform: translateY(8px); animation: reveal .4s ease forwards; }
.reveal-delayed { animation-delay: .15s; }
@keyframes reveal { to { opacity: 1; transform: none; } }

/* Hover lifts */
.btn:hover { transform: translateY(-1px); transition: transform .15s ease; }
.card-plain:hover { transform: translateY(-2px); transition: transform .2s ease; }

/* Accordion smooth transitions */
.accordion .accordion-collapse { max-height: 0; opacity: 0; overflow: hidden; transition: max-height .25s ease, opacity .2s ease; }
.accordion .accordion-collapse.show { max-height: 5000px; opacity: 1; }

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
	*, *::before, *::after { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
	.reveal, .reveal-delayed { animation: none !important; opacity: 1 !important; transform: none !important; }
	.btn:hover, .card-plain:hover { transform: none !important; }
	.accordion .accordion-collapse, .accordion .accordion-collapse.show { transition: none !important; }
}

/* Focus-visible outlines for accessibility */
:where(a, button, .btn, .nav-link, .stretched-link):focus-visible {
	outline: 2px solid var(--accent);
	outline-offset: 2px;
	box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 30%, transparent);
	border-radius: 6px;
}
